---
import DefaultLayout from '../../layouts/DefaultLayout.astro';
import usersHelper from '../../helpers/users.helper';

let userId = Astro.locals.user?.id;

if (!userId) {
  return Astro.redirect('/404');
}

let user = await usersHelper.findUserByUserId(userId);

if (!user) {
  return Astro.redirect('/404');
}
---

<DefaultLayout pageTitle="Settings">
  {user.username}
</DefaultLayout>
